<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:c="http://www.w3.org/1999/html">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Bootstrap - Prebuilt Layout</title>
<script type="text/javascript" src="/js/jquery.min.js"></script>
<script src="/js/jquery.js"></script>
<script src="/js/bootstrap.js"></script>
<!--<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>-->
<link rel="stylesheet" href="/css/causoul_css.css">
    <link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css">
    <link rel='stylesheet prefetch' href="/css/normalize.css">
    <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css" />
<!-- Bootstrap -->
<link href="/css/bootstrap.css" rel="stylesheet">
<link href="/css/player.css" rel="stylesheet" type="text/css" />
</head>
    <script type="text/javascript">
        $().ready(function(){
            var flag=$("#registe").val();
            console.info(flag);
            if(flag=="true") {
                var message = $("#result").val();
                alert(message);
            }
        });
    </script>
<style>
	body{ background:#eee;
        }
	.total {
		 background:#FFFFFF;
		margin-left:150px;
		margin-right:150px;
			}
	.pic-div{ box-shadow:10px 10px 20px #333333;
		}
    .bs-example-modal-1g input{margin-top: 10px;margin-bottom: 10px}
    .bs-example-modal-2g input{margin-top: 10px;margin-bottom: 10px}
    .bs-example-modal-1g .form-control{width: 60%;}

</style>
</head>
<body style="padding-top: 50px">
<a href="/mymusic/touplad">upload</a>
<input type="hidden" id="islogin" name="islogin" th:value="${result.islogin}">
<input type="hidden" id="registe" th:value="${registe}">
<div th:if="${registe}">
    <input type="hidden" id="result" th:value="${registeResult.message}">
</div>
<input th:if="${result.islogin}" type="hidden" name="token" th:value="${session.token}">
<div class="total">
<nav class="navbar navbar-inverse navbar-fixed-top" >
  <div class="container-fluid">

    <a class="navbar-brand text-primary" href="#">
        <b>WAO Music</b>
      </a>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="topFixedNavbar1">
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">My Music<span class="sr-only"></span></a></li>
        <li><a href="#">musician</a></li>
        <li><a href="#">发现音乐</a></li>
        <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">更多<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">客户端下载</a></li>
            <li><a href="#">用户中心</a></li>
            <li><a href="#">说唱音乐</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#">排行榜</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#">商城</a></li>
          </ul>
        </li>
      </ul>
        <!--音乐搜索-->
      <form action="/music/doserach" method="get" class="navbar-form navbar-left" role="search">
        <div class="form-group">
          <input type="text" name="word" class="form-control" placeholder="Serach Music">
        </div>
        <button type="submit" class="btn btn-inverse">Search</button>
      </form>
        <!--音乐搜索-->
      <ul class="nav navbar-nav navbar-right">
          <li class="active" th:if="${result.islogin}" ><a href="#" ><spqn th:text="${session.user.userName}"></spqn></a></li>
          <li th:if="${result.islogin}" ><a href="/user/Logout">Logout</a></li>
          <li th:unless="${result.islogin}"data-toggle="modal" data-target=".bs-example-modal-1g"><a href="#">Login</a></li>
        <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">Action</a></li>
            <li><a href="#">Another action</a></li>
            <li><a href="#">Something else here</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#">Separated link</a></li>
          </ul>
        </li>
      </ul>
    </div>

  </div>
    <div th:if="${session.user}">
        <div class="container" style="width: 140px">
            <nav style="float: left">
                <ul class="mcd-menu">
                    <li> <a href="/user/iframe" class="active"> <i class="fa fa-home"></i> <strong>首页</strong> <small>sweet home</small> </a> </li>
                    <li> <a href=""> <i class="fa fa-edit"></i> <strong>我的</strong>  </a>
                    </li>
                    <li> <a href="" > <i class="fa fa-gift"></i> <strong>收藏</strong></a>
                        <ul>
                            <li> <a href="#"><i class="fa fa-group"></i>歌单</a>
                                <ul>
                                    <li><a href="#"><i class="fa fa-female"></i>添加</a></li>
                                    <li> <a href="#"><i class="fa fa-male"></i>最爱的歌</a></li>
                                    <li><a href="#"><i class="fa fa-female"></i>歌单1号</a></li>
                                    <li><a href="#"><i class="fa fa-female"></i>歌单2号</a></li>
                                    <li><a href="#"><i class="fa fa-female"></i>歌单3号</a></li>
                                </ul>
                            </li>
                            <li><a href="#"><i class="fa fa-globe"></i>专辑</a></li>
                            <li><a href="#"><i class="fa fa-trophy"></i>艺人</a></li>
                        </ul>
                    </li>
                    <li> <a href=""> <i class="fa fa-globe"></i> <strong>推荐</strong> </a> </li>
                    <li> <a href=""> <i class="fa fa-picture-o"></i> <strong>Portfolio</strong> <small>sweet home</small> </a> </li>
                    <li> <a href=""> <i class="fa fa-envelope-o"></i> <strong>Contacts</strong> <small>drop a line</small> </a> </li>
                    <!--<li class="float"> <a class="search">
                        <input type="text" value="search ...">
                        <button><i class="fa fa-search"></i></button>
                    </a> <a href="" class="search-mobile"> <i class="fa fa-search"></i> </a> </li>-->
                </ul>
            </nav>
        </div>
    </div>
</nav>
    <!--model登陆模块-->
    <div class="modal fade bs-example-modal-1g " tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Welcome to future</h4>
            </div>
            <div class="modal-body">
                <div class="login-form">
                    <div class="login-header">
                    </div>
                    <form action="/user/login1" method="post" >
                        <div >
                            <label>用户名</label>
                            <input type="text" class="uname form-control" id="userName" name="userName" autocomplete="off" spellcheck="false" required placeholder="账号">
                        </div>
                        <div >
                            <label>密&#12288;码</label>
                            <input type="password" class="upwd form-control" id="password" name="password" autocomplete="off" spellcheck="false" required placeholder="请输入密码">
                        </div>
                        <div class="form-group">
                            <div class="checkbox">
                                <label><input type="checkbox"  name="checkname" id="checkid" onchange="changeval()" value="0">下次自动登录</label>
                                <div class="pull-right">
                                    <a href="" class="text-right">忘记密码？</a>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-info btn-lg btn-block" >登    录</button>
                        </div>
                        <div class="form-group">
                            <a href="javascript:;" data-toggle="modal" data-target=".bs-example-modal-2g" class="register-btn btn btn-info btn-lg btn-block" role="button">注册新账号</a>
                        </div>
                    </form>

                </div>
                <div class="login-form-mask"></div>
            </div>
            <!--
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary">保存</button>
            </div>-->
        </div>
    </div>
</div>
    <!--zhuce-->
    <div class="modal fade bs-example-modal-2g " tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog ">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title">Welcome to future</h4>
                </div>
                <div class="modal-body">
                    <div class="login-form">
                        <div class="login-header">
                        </div>
                        <form action="/user/registe" method="post" >
                            <div class="input">
                                <label>用户名</label>
                                <input type="text" class="uname form-control" id="userName_zh" name="userName" autocomplete="off" spellcheck="false" placeholder="账号" required>
                            </div>
                            <div class="input">
                                <label>密&#12288;码</label>
                                <input type="password" class="upwd form-control" id="password_zh" name="password" autocomplete="off" spellcheck="false" placeholder="请输入密码" required>
                            </div>
                            <div class="input">
                                <label>确认密码</label>
                                <input type="password" class="upwd form-control" id="password_zh_again" name="cpassword" autocomplete="off" spellcheck="false" placeholder="请再输入密码" onmouseout="" required>
                            </div>
                            <div class="input">
                                <label>性别</label>
                                <input type="radio"  name="sex" value="male" required>男
                                <input type="radio"  name="sex" value="female" required>女
                            </div>
                            <div class="input">
                                <label>邮箱</label>
                                <input type="email" class="form-control " id="email_zh" name="email" autocapitalize="off" spellcheck="false" placeholder="邮箱" required>
                            </div>
                            <div class="input">
                                <label>手机号</label>
                                <input type="number" class="form-control" id="number_zh" name="mobile" autocapitalize="off" spellcheck="false" placeholder="电话号码" >
                            </div>
                            <div class="form-group">
                                <button type="submit" id="zh" class="btn btn-info btn-lg btn-block">提交</button>
                            </div>
                        </form>
                    </div>
                    <div class="login-form-mask"></div>
                </div>

            </div>
        </div>
    </div>

    <div class="container-fluid" >

  <div  id="mylunbo">
  <div class="imgBox">
    <ul id="mylunbo_w">
            <li class="list1"><img src="/image/p11.jpg" alt="" ></li>
            <li class="list2"><img src="/image/p12.jpg" alt=""></li>
            <li class="list3"><img src="/image/p13.jpg" alt="" ></li>
        	<li class="list4"><img src="/image/p14.jpg" alt="" ></li>
            <li class="list5"><img src="/image/p15.jpg" alt="" ></li>
            <li class="list6"><img src="/image/p16.jpg" alt=""></li>
      </ul>
    </div>
    <div class="lineBar">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
    </div>
   </div>
  </div>


	<div class="row">
  <div class="col-sm-6 col-md-6" >
      <form action="/music/openSongList" target="indexframe" method="get">
   		 <div class="thumbnail">
             <input type="hidden" id="listId"  name="listId" value="e38f914f911e46a88920ff82ebd9530e">
            <img src="/image/p12.jpg" alt="..." class="pic-div" onclick="openList()">
      		<div class="caption">
       		<a onclick="openList()">Life is Hard</a>
       		 <p>2001-1-1</p>
            <input id="listsummit" type="submit" style="display: none"/>
      </div>
    </div>
      </form>
  </div>


  <div class="col-sm-6 col-md-6" >
  		  <div class="thumbnail"> <img src="/image/p11.jpg" alt="..."   class="pic-div">
  		    <div class="caption"> <a href="">Life is Hard</a>
  		      <p>2001-1-1</p>
	        </div>
	      </div>
  </div>
  <div class="col-sm-6 col-md-4" >
  		  <div class="thumbnail"> <img src="/image/p11.jpg" alt="..." class="pic-div">
  		    <div class="caption"> <a href="">Life is Hard</a>
  		      <p>2001-1-1</p>
	        </div>
	      </div>
  </div>
  <div class="col-sm-6 col-md-4" >
  		  <div class="thumbnail"> <img src="/image/p11.jpg" alt="..." class="pic-div">
  		    <div class="caption"> <a href="">Life is Hard</a>
  		      <p>2001-1-1</p>
	        </div>
	      </div>
  </div>
  <div class="col-sm-6 col-md-4" >
  		  <div class="thumbnail"> <img src="/image/p11.jpg" alt="..." class="pic-div">
  		    <div class="caption"> <a href="">Life is Hard</a>
  		      <p>2001-1-1</p>
	        </div>
	      </div>
  </div>
  <div class="col-sm-6 col-md-4" >
  		  <div class="thumbnail"> <img src="/image/p11.jpg" alt="..." class="pic-div">
  		    <div class="caption"> <a href="">Life is Hard</a>
  		      <p>2001-1-1</p>
	        </div>
	      </div>
  </div>
  <div class="col-sm-6 col-md-4" >
  		  <div class="thumbnail"> <img src="/image/p11.jpg" alt="..." class="pic-div">
  		    <div class="caption"> <a href="">Life is Hard</a>
  		      <p>2001-1-1</p>
	        </div>
	      </div>
  </div>

</div>

<script>


   var aLi = document.querySelector("#mylunbo").querySelectorAll("li");
    var aSpan = document.querySelector(".lineBar").querySelectorAll("span");;
    var oImgbox = document.querySelector(".imgBox");
    var aName = []; //存放元素的名字
    var index = 0;//初始状态下第几个按钮变色
    setColor();
    for(var item of aLi){
        //console.log(item.classList[0]);
        aName.push(item.classList[0]);

    }

    function nextPic() { //向下翻页
        aName.unshift(aName[5]); //把数组最后一个值复制并插入到数组第一个位置
        aName.pop();  //删除数组的最后一个元素
        for (var i=0,len=aLi.length;i<len;i++){
            //预存数组长度，减少循环语句的性能消耗
            aLi[i].setAttribute("class",aName[i]);
            //重新给每个元素设置新的名字
        }
        index++;
        if(index>5)index=0;
        setColor();
    }
    function prePic() {
        aName.push(aName[0]); //把数组第一个值复制并插入到数组最后一个位置
        aName.shift();//删除第一个
        for (var i=0,len=aLi.length;i<len;i++){
            //预存数组长度，减少循环语句的性能消耗
            aLi[i].setAttribute("class",aName[i]);
            //重新给每个元素设置新的名字
        }
        index--;
        if(index<0)index=5;
        setColor();
    }

    function setColor() {
        for(var item of aSpan){
            item.style.backgroundColor="#ccc";
        }
        aSpan[index].style.backgroundColor = "#45c17c";

    }

    var eleList=["list1","list3"];
    var eleAct=["prePic","nextPic"];


    oImgbox.addEventListener("click",function (ev) {
        ev=ev||window.event;//兼容性处理
        console.log(ev.target.parentNode);//鼠标事件
        var ele = ev.target.parentNode;//点中的li元素
        var eleName=ele.classList[0];//获取元素的名字

        /*
        switch (ele.classList[0]){
            case "list1":
                prePic();//向上翻页
                break;
            case "list3":
                nextPic();//向下翻页
                break;
        }
        */
        window[eleAct[eleList.indexOf(eleName)]]();
    })
    function registe() {
        $.ajax({
            type: "Post",
            url: "/user/registe",

            success: function(result) {
                alert(result.message);
                window.location.href="/user/index";
            }
        });
    }
   function openList() {
        $("#listsummit").click();
        /*var id=$("#listId").val();
        var u="/music/openSongList?listId="+id;*/
       /* console.info(u);
       $.ajax({
           type: "Get",
           url: u,
           success: function(result) {
               alert("succes");
               window.location.href="/music/openSongList";
           }
       });*/
   }
</script>

<!--
<div class="container-fluid">
  <div class="row">

  <div id="myCarousel" class="carousel slide">
	 轮播（Carousel）指标 ->
	<ol class="carousel-indicators">
		<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
		<li data-target="#myCarousel" data-slide-to="1"></li>
		<li data-target="#myCarousel" data-slide-to="2"></li>
	</ol>
	 轮播（Carousel）项目 ->
	<div class="carousel-inner">
	  <div class="item active">
			<images src="p11.jpg" alt="First slide" class="center-block">
		</div>
		<div class="item">
			<images src="p12.jpg" alt="Second slide" class="center-block">
		</div>
		<div class="item">
			<images src="p13.jpg" alt="Third slide" class="center-block">
		</div>
	</div>
	轮播（Carousel）导航 ->
	<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
		<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
		<span class="sr-only">Previous</span>
	</a>
	<a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
		<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
		<span class="sr-only">Next</span>
	</a>
</div>
  <hr>
</div>
</div>
-->


<div class="container">
  <div class="row text-center">
    <div class="col-md-6 col-md-offset-3">Click outside the blue container to select this <strong>row</strong>. Columns are always contained within a row. <strong>Rows are indicated by a dashed grey line and rounded corners</strong>. </div>
  </div>
  <hr>
  <div class="row">
    <div class="text-justify col-sm-4"> Click here to select this<strong> column.</strong> Always place your content within a column. Columns are indicated by a dashed blue line. </div>
    <div class="col-sm-4 text-justify"> You can <strong>resize a column</strong> using the handle on the right. Drag it to increase or reduce the number of columns.</div>
    <div class="col-sm-4 text-justify"> You can <strong>offset a column</strong> using the handle on the left. Drag it to increase or reduce the offset. </div>
  </div>
  <hr>
  <div class="row">
    <div class="text-center col-md-12">
      <div class="well"><strong> Easily build your page using the Bootstrap components from the Insert panel.</strong></div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-4 text-center">

      <h4>Adding <strong>Buttons</strong></h4>
      <p>Quickly add buttons to your page by using the button component in the insert panel. </p>
      <button type="button" class="btn btn-info btn-sm">Info Button</button>
      <button type="button" class="btn btn-success btn-sm">Success Button</button>
    </div>
    <div class="text-center col-sm-4">
      <h4>Adding <strong>Labels</strong></h4>
      <p>Using the insert panel, add labels to your page by using the label component.</p>
      <span class="label label-warning">Info Label</span><span class="label label-danger">Danger Label</span> </div>
    <div class="text-center col-sm-4">
      <h4>Adding <strong>Glyphicons</strong></h4>
      <p>You can also add glyphicons to your page from within the insert panel.</p>
      <div class="row">
        <div class="col-xs-4"><span class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span></div>
        <div class="col-xs-4"><span class="glyphicon glyphicon-home" aria-hidden="true"> </span> </div>
        <div class="col-xs-4"><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span></div>
      </div>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="text-center col-md-6 col-md-offset-3">
      <h4>Footer </h4>
      <p>Copyright &copy; 2015 &middot; All Rights Reserved &middot; <a href="http://yourwebsite.com/" >My Website</a></p>
    </div>
  </div>
  <hr>
</div>
</div>

<div id="main">
    <ul id="12">
        <li></li>
    </ul>
</div>
<!-- $("#main li").find("a").click(function () {
	var k = $(this).parent("li").index();
	myPlaylist.add({
		title: main[k].title, artist: main[k].artist,
		//free:true,
		mp3: main[k].mp3,
		//oga:"",
		poster: main[k].poster
	});
	myPlaylist.play(-1);
});-->


<!--<div id="jp_container_N" class="jp-video jp-video-270p jp-state-playing" role="application" aria-label="media player" style="left: 0px; height: 175px; bottom: 20px;">
    <div class="jp-type-playlist">
        <div id="jquery_jplayer_N" class="jp-jplayer" style="width: 90px; height: 90px;">

            <audio id="jp_audio_0"   title=""></audio>
        </div>
        <div class="jp-gui">
            <div class="jp-interface">
                <div class="jp-progress">
                    <div class="jp-seek-bar" style="width: 100%;">
                        <div class="jp-play-bar" style="overflow: hidden; width: 97.5219%;"></div>
                    </div>
                </div>
                <div class="jp-current-time" role="timer" aria-label="time">04:11</div>
                <div class="jp-duration" role="timer" aria-label="duration">04:17</div>
                <div class="jp-controls-holder">
                    <div class="jp-controls">
                        <button class="jp-previous" role="button" tabindex="0">上一曲</button>
                        <button class="jp-play" role="button" tabindex="0">播放</button>
                        <button class="jp-next" role="button" tabindex="0">下一曲</button>
                        <button class="jp-stop" role="button" tabindex="0">暂停</button>
                    </div>
                    <div class="jp-volume-controls">
                        <button class="jp-mute" role="button" tabindex="0">静音</button>
                        <button class="jp-volume-max" role="button" tabindex="0">最大音量</button>
                        <div class="jp-volume-bar">
                            <div class="jp-volume-bar-value" style="width: 10%;"></div>
                        </div>
                    </div>
                    <div class="jp-toggles">
                        <button class="jp-repeat" role="button" tabindex="0">重复</button>
                        <button class="jp-shuffle" role="button" tabindex="0">随机</button>
                        &lt;!&ndash;<button class="jp-full-screen" role="button" tabindex="0">全屏</button>&ndash;&gt;
                    </div>
                </div>
                <div class="jp-details" style="display: none;">
                    <div class="jp-title" aria-label="title">那英</div>
                </div>
            </div>
        </div>
        <div class="jp-playlist">
            <div class="jp-playlist-box" style="height: 80px;">
                <ul style="height: 1000px; display: block; top: 0px;">
                   &lt;!&ndash; <li>
                        <div>
                            <a href="javascript:;" class="jp-playlist-item-remove">×</a>
                            <a href="javascript:;" class="jp-playlist-item" tabindex="0">默 <span class="jp-artist" style="transform: rotate(180deg);"> - 那英</span></a>
                        </div>
                    </li>&ndash;&gt;
                    &lt;!&ndash;<li class="">
                        <div>
                            <a href="javascript:;" class="jp-playlist-item-remove">×</a>
                            <a href="javascript:;" class="jp-playlist-item" tabindex="0">Ellens Gesang III D839 <span class="jp-artist" style="transform: rotate(180deg);"> - Geoffrey Parsons</span></a>
                        </div>
                    </li>
                    <li>
                        <div>
                            <a href="javascript:;" class="jp-playlist-item-remove">×</a>
                            <a href="javascript:;" class="jp-playlist-item" tabindex="0">Fire <span class="jp-artist" style="transform: rotate(180deg);"> - Said The Sky</span></a>
                        </div>
                    </li>
                    <li class="jp-playlist-current" style="display: list-item;">
                        <div>
                            <a href="javascript:;" class="jp-playlist-item-remove">×</a>
                            <a href="javascript:;" class="jp-playlist-item jp-playlist-current" tabindex="0">兰若词 <span class="jp-artist" style="transform: rotate(180deg);"> - 刘亦菲</span></a>
                        </div>
                    </li>&ndash;&gt;
                </ul>
            </div>
        </div>
    </div>
    &lt;!&ndash;歌曲列表滚动条&ndash;&gt;
    <div class="scrollBar" style="display: block;">
        <div class="bar" style="top: 0px;"></div>
    </div>
    &lt;!&ndash;播放器展开隐藏按钮&ndash;&gt;
    <button type="button" class="folded_bt" title="点击收缩" id="btnfold" style="top: 52px;">
        <span style="transform: rotate(180deg);"></span>
    </button>
    <div id="listRemove" style="display: block;"></div>
    &lt;!&ndash;移除全部歌曲按钮&ndash;&gt;
    <div id="listClose"></div>
    &lt;!&ndash;歌曲列表展开收缩按钮&ndash;&gt;
</div>-->
<!-- 左侧播放器 结束-->

<script type="text/javascript" src="/js/jquery.min.js"></script>

<!--播放器js-->
<script src="/js/player.js"></script>
<script src="/js/playlist.js"></script>
<!--<script src="/js/player_database.js"></script>-->
<script type="text/javascript">
   /* var myPlaylist = new jPlayerPlaylist({
            jPlayer: "#jquery_jplayer_N",
            cssSelectorAncestor: "#jp_container_N"
        },
        [
            /!*{ title: "Fire", artist: "Said The Sky", mp3:"/music/mp3.do", poster: "http://p1.music.126.net/tg2zke_mrqwuOPlEIEUjGg==/18294773975127592.jpg?param=130y130"}
            { title: "Save Me ", artist: "Original mix", mp3:"http://jq22com.qiniudn.com/saveme.mp3", poster: "images/se.jpg"},
            { title: "默", artist: "那英", mp3:"http://music.163.com/song/media/outer/url?id=431795577.mp3 ", poster: "http://p1.music.126.net/OCGt5ln0lPPtPbVJ3VEKtA==/109951163020570422.jpg?param=130y130"},
            { title: "Fire", artist: "Said The Sky", mp3:"http://music.163.com/song/media/outer/url?id=435289279.mp3", poster: "http://p1.music.126.net/tg2zke_mrqwuOPlEIEUjGg==/18294773975127592.jpg?param=130y130"},
            { title: "法老", artist: "法老", mp3:"D:\\IdeaWorkplace\\MusicWeb\\target\\classes\\song\\MC法老 - 打破这墙1558966890318.mp3", poster: "http://p1.music.126.net/tg2zke_mrqwuOPlEIEUjGg==/18294773975127592.jpg?param=130y130"},
            { title: "Fleur de lis", artist: "Noicybino", mp3: "http://music.163.com/song/media/outer/url?id=533079474.mp3", poster:"http://p1.music.126.net/C3C4vPOMsTd_vX9Ccww06Q==/109951163117390906.jpg?param=130y130"},
            { title: "Dance, cherry blossoms!", artist: "Yuri akiyama", mp3: "http://music.163.com/song/media/outer/url?id=518291899.mp3 ", poster:"http://p1.music.126.net/AKhQSRL6HyZu4YwWg4Wi6A==/109951163060585255.jpg?param=130y130"},
            { title: "Lost in Love", artist: "Bois LanYun", mp3: "http://music.163.com/song/media/outer/url?id=521597063.mp3", poster:"http://p1.music.126.net/6o_M9dSbYPRqKRmwY1bOGg==/109951163073262137.jpg?param=130y130"},
            { title: "远すぎた空", artist: "Akito", mp3: "http://music.163.com/song/media/outer/url?id=357185.mp3", poster:"http://p1.music.126.net/7cYhniBuLvU3fvLjeRFeNw==/106652627910735.jpg?param=130y130"},
            { title: "Whether", artist: " AniFace", mp3: "http://music.163.com/song/media/outer/url?id=515384791.mp3", poster:"http://p1.music.126.net/PzE3JrY7QVqFghK9gJN67A==/109951163050326398.jpg?param=130y130"},
            { title: "Constellation Of Tatyana", artist: "Yakuro", mp3: "http://music.163.com/song/media/outer/url?id=28914253.mp3", poster:"http://p1.music.126.net/V7YrIWl2ALgg4QZTxD7_rw==/2937895071851575.jpg?param=130y130"},
            { title: "Princess", artist: "α·Pav", mp3: "http://music.163.com/song/media/outer/url?id=357023.mp3", poster:"http://p1.music.126.net/ktIGtL8eCh6bmDf5a27tFQ==/93458488378205.jpg?param=130y130"},
            { title: "Day by Day", artist: "Shirfine", mp3: "http://music.163.com/song/media/outer/url?id=27579054.mp3", poster:"http://p1.music.126.net/J6m3eJOw32G_wDim2tqloA==/5636096604060170.jpg?param=130y130"},
            { title: "blue blossoms", artist: "久遠", mp3: "http://music.163.com/song/media/outer/url?id=803347.mp3", poster:"http://p1.music.126.net/j9u_wRtJMhlt64k-ZSUM3Q==/944480488305733.jpg?param=130y130"}*!/
        ],
        {playlistOptions:{enableRemoveControls: true},
            swfPath: "js/",
            supplied: "webmv, ogv, m4v, oga, mp3",
            useStateClassSkin: true,
            autoBlur: false,
            smoothPlayBar: true,
            keyEnabled: true,
            audioFullScreen: true
        });*/

    function doplay(){

        var s=[{ title: "改变",
            artist: "官邸",
            //mp3:"http://music.163.com/song/media/outer/url?id=86369.mp3",
            mp3:"/music/getmp3?id=89bbf548ef5c49fe9f13e78696d252a9",
            poster: ""}
            //{title: "打破这墙", artist: "法老", mp3: "/music/getmp3?id=9910e7d2414c4f8e875f413967a448f7", poster:"http://p1.music.126.net/J6m3eJOw32G_wDim2tqloA==/5636096604060170.jpg?param=130y130"}
            //{title: "Day by Day", artist: "Shirfine", mp3: "http://music.163.com/song/media/outer/url?id=86369.mp3", poster:"http://p1.music.126.net/J6m3eJOw32G_wDim2tqloA==/5636096604060170.jpg?param=130y130"}
        ];
        window.parent.doplay(s,12);
       /* var songs=[
            {title: "Fire", artist: "Said The Sky", mp3:"/music/mp3.do", poster: "http://p1.music.126.net/tg2zke_mrqwuOPlEIEUjGg==/18294773975127592.jpg?param=130y130"}
        ];
            var sjson=JSON.parse(songs);*/
       /* myPlaylist.add({
            title:songs.title, artist:songs.artist,
            //free:true,
            mp3:songs.mp3,
            //oga:"",
            poster:songs.poster
        });*/
      /* var s=[{ title: "Fire",
               artist: "Said The Sky",
                mp3:"/music/mp3.do",
                poster: "http://p1.music.126.net/tg2zke_mrqwuOPlEIEUjGg==/18294773975127592.jpg?param=130y130"},
            {title: "Day by Day", artist: "Shirfine", mp3: "http://music.163.com/song/media/outer/url?id=86369.mp3", poster:"http://p1.music.126.net/J6m3eJOw32G_wDim2tqloA==/5636096604060170.jpg?param=130y130"}
       ];
       alert(typeof s);
        for(i=0;i<s.length;i++){
            $("#jquery_jplayer_N",parent.document).add(s[i]);
        };*/
        /*myPlaylist.add({
            title:"我想", artist:"法老",
            //free:true,
            mp3:"/music/mp3.do",
            //oga:"",
            poster:""
        });*/
        //$("#jquery_jplayer_N",parent.document).play(-1);
    };

    //移除
    $("#playlist-remove").click(function() {
        myPlaylist.remove();		//（0 1 2 ... -2 -1）
    });

    $("#listRemove").click(function() {
        myPlaylist.remove();
    });

    // 上一曲、下一曲

    $("#playlist-next").click(function() {
        myPlaylist.next();
    });
    $("#playlist-previous").click(function() {
        myPlaylist.previous();
    });

    // 播放
    $("#playlist-play").click(function() {
        myPlaylist.play();
    });

    $("#playlist-play--2").click(function() {
        myPlaylist.play(-2);
    });
    $("#playlist-play--1").click(function() {
        myPlaylist.play(-1);
    });
    $("#playlist-play-0").click(function() {
        myPlaylist.play(0);
    });
    $("#playlist-play-1").click(function() {
        myPlaylist.play(1);
    });
    $("#playlist-play-2").click(function() {
        myPlaylist.play(2);
    });

    // 暂停

    $("#playlist-pause").click(function() {
        myPlaylist.pause();
    });



    //是否自动播放

    $("#playlist-option-autoPlay-true").click(function() {
        myPlaylist.option("autoPlay", true);
    });
    $("#playlist-option-autoPlay-false").click(function() {
        myPlaylist.option("autoPlay", false);
    });




    //播放器列表滚动条js------------------------------------------------------------------------------------------------
    var $bar=$(".bar");
    var $scrollBar=$(".scrollBar");
    var $maxH = $scrollBar.innerHeight() - $bar.outerHeight();
    var $ul=$(".jp-playlist ul");
    var $li=$(".jp-playlist ul li");
    var disY=0;
    var iScale=0;
    var iSpeed = 0;

    $ul.height(1000);		//设置ul的高度

    $bar.mousedown(function (event){
        var event = event || window.event;
        disY = event.clientY - $(this).position().top;
        $(document).bind("mousemove",function (event){
            var event = event || window.event;
            var iH = event.clientY - disY;
            iH <= 0 && (iH = 0);
            iH >= $maxH && (iH = $maxH);
            $bar.css({top : iH + "px"});
            iScale = - iH/$maxH;
            $ul.css({top:iScale*($ul.height()-$(".jp-playlist-box").height())+"px"});
            return false;
        });
        $(document).bind("mouseup",function (){
            $(document).unbind("mousemove");
            $(document).unbind("mouseup");
        });
        return false;
    });

    //当鼠标移入，监听事件
    $(".jp-playlist-box").mouseover(function(){
        //鼠标滚轮
        addHandler(this, "mousewheel", mouseWheel);//IE
        addHandler(this, "DOMMouseScroll", mouseWheel);//标准
        return false;
    });
    //绑定事件重写兼容
    function addHandler(element, type, handler){
        return element.addEventListener ? element.addEventListener(type, handler, false) :
            element.attachEvent("on" + type, handler, false)
    }
    //鼠标滚轮事件
    function mouseWheel(event){
        var event = event || window.event;
        if(event.wheelDelta) {//IE
            iSpeed = event.wheelDelta > 0 ? -3 : 3;
        }else if(event.detail) {//火孤
            iSpeed = event.detail < 0 ? -3 : 3;
        }
        move();

        //FF,绑定事件，阻止默认事件
        if (event.preventDefault) {
            event.preventDefault();
        }
    } ;
    //滚轮 要执行的
    function move(){
        var iH=$bar.position().top;
        iH=iH+iSpeed;
        iH <= 0 && (iH = 0);
        iH >= $maxH && (iH = $maxH);
        $bar.css({top:iH+"px"});
        iScale = - iH/$maxH;
        $ul.css({top:iScale*($ul.height()-$(".jp-playlist-box").height())+"px"});
        return false;
    };
    //播放器列表滚动条js 结束------------------------------------------------



    //音乐播放器 收缩、展开----------------------------------------------
    var fold=true;//标识

    //页面加载时，播放器运动出来，延迟2秒，运动回去
    $(".jp-video").animate({left:0},"slow",function(){
        slideOut($(this));
    }).delay(2000).animate({left:"-480px"},350,function(){
        slideIn($(this));
    });

    //点击按钮运动出来，或运动回去
    $("#btnfold").mouseover(function(){
        if(fold){
            $(".jp-video").animate({left:"-480px"},350,function(){
                slideIn($(this));
            });
        }else{
            $(".jp-video").animate({left:0},350,function(){
                slideOut($(this));
            });
        }
    });
    //封装按钮背景切换1
    function slideOut(obj){
        $("#btnfold").attr({"title":"点击收缩"});
        obj.find("span").css({"transform":"rotate(180deg)"});
        obj.find("span").css({"MozTransform":"rotate(180deg) translateX(2px)"});
        obj.find("span").css({"WebkitTransform":"rotate(180deg)"});
        fold=true;
    };
    //封装按钮背景切换2
    function slideIn(obj){
        $("#btnfold").attr({"title":"点击展开"});
        obj.find("span").css({"transform":"rotate(0deg)"});
        obj.find("span").css({"MozTransform":"rotate(0deg) translateX(-2px)"});
        obj.find("span").css({"WebkitTransform":"rotate(0deg)"});
        fold=false;
    };

    //歌曲列表展开、收缩---------------------------------------------------
    var iOpen=false;
    $("#listClose").click(function(){
        if(iOpen){
            $(".jp-playlist-box").animate({height:0},100);
            $("#btnfold").css({top:"5px"});
            $("#listRemove").css({display:"none"});
            $(".scrollBar").css({display:"none"});
            $(".jp-video").animate({height:"94px",bottom:"20px"},100);
            iOpen=false;
        }else{
            $(".jp-playlist-box").animate({height:"80px"},100);
            $("#btnfold").css({top:"52px"});
            $("#listRemove").css({display:"block"});
            $(".scrollBar").css({display:"block"});
            $(".jp-video").animate({height:"175px",bottom:"20px"},100);
            iOpen=true;
        }
    });
</script>
<!--播放器js-->
</body>
</html>
